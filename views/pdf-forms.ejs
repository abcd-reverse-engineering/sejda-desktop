<%- include('partials/task-screen-before'); %>

<link rel="stylesheet" href="public/css/pdf-editor/fonts.css" />
<link rel="stylesheet" href="public/css/pdf-editor/pdf-editor.css" />
<link rel="stylesheet" href="public/css/pdf-editor/pdf-editor-desktop-only.css" />

<section id="task-content" data-task="edit" data-multiple-files="false">
  <style>
    #startWithBlankDocument {
      display: block !important;
    }
  </style>
  <div class="container centered">
    <div class="row">
      <h1><%= __('Create Fillable PDF') %><span class="beta">BETA</span></h1>
      <h2><%= __('PDF forms creator') %>. <%= __('Make existing PDF documents fillable') %></h2>

      <div id="text-editable-menu" class="text-editable-menu edit-menu" style="display: none">
        <div class="btn-group" role="group" aria-label="...">
          <div class="btn-group" role="group">
            <button class="btn btn-default font-bold-opts" title="Bold">
              <i class="far fa-bold"></i>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button class="btn btn-default font-italic-opts" title="Italic">
              <i class="far fa-italic"></i>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Font size">
              <i class="far fa-text-height"></i>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu font-size-opts">
              <li>
                <input type="number" name="fontSize2" value="10" step="0.1" />
              </li>
            </ul>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Font family">
              Font
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu font-family-opts">
              <li><a href="javascript://" id="addMoreFontsBtn"><i class="fal fa-font"></i><i class="fal fa-plus" style="margin-right: 5px; font-size: 8px;"></i> More fonts...</a></li>
              <li class="divider" role="separator"></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Arimo', sans-serif;" data-font="'Arimo',serif">Arimo</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Carlito', sans-serif;" data-font="'Carlito',serif">Carlito <span class="alt">(Calibri)</span></a></li>
              <li><a href="javascript://" class="built-in courier" data-font="'Courier New',monospace">Courier</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'DejaVu Sans', sans-serif;" data-font="'DejaVu Sans',serif">DejaVu Sans <span class="alt">(Verdana)</span></a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Droid Serif', serif;" data-font="'Droid Serif',serif">Droid Serif</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'EB Garamond', serif;" data-font="'EB Garamond',serif">EB Garamond</a></li>
              <li><a href="javascript://" class="built-in helvetica" data-font="Helvetica,sans-serif">Helvetica</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Lato', sans-serif;" data-font="'Lato',sans-serif">Lato</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Liberation Sans', sans-serif;" data-font="'Liberation Sans',sans-serif">Liberation Sans <span class="alt">(Arial)</span></a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Noto Sans', sans-serif;" data-font="'Noto Sans',sans-serif">Noto Sans</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Open Sans', sans-serif;" data-font="'Open Sans',sans-serif">Open Sans</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Open Sans Condensed', sans-serif;" data-font="'Open Sans Condensed',sans-serif">Open Sans Condensed</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Oranienbaum', serif;" data-font="'Oranienbaum',serif">Oranienbaum</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'PT Sans', sans-serif;" data-font="'PT Sans',sans-serif">PT Sans</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'PT Sans Caption', sans-serif;" data-font="'PT Sans Caption',sans-serif">PT Sans Caption</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'PT Sans Narrow', sans-serif;" data-font="'PT Sans Narrow',sans-serif">PT Sans Narrow</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'PT Serif', serif;" data-font="'PT Serif',serif">PT Serif</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'PT Serif Caption', serif;" data-font="'PT Serif Caption',serif">PT Serif Caption</a></li>
              <li><a href="javascript://" class="built-in" style="font-family: 'Roboto', serif;" data-font="'Roboto',serif">Roboto</a></li>
              <li><a href="javascript://" class="built-in times-new-roman" data-font="'Times New Roman',serif">Times New Roman</a></li>
            </ul>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Color">
              Color
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu color-opts dropdown-menu-color-opts">
                <%- include('partials/pdf-editor-color-opts'); %>
            </div>
          </div>
          <button class="btn btn-default text-to-link-opts lift:locTooltip" title="Create a link">
            <i class="far fa-link"></i>
          </button>
          <button class="btn btn-default move-btn lift:locTooltip" title="Move">
            <i class="fal fa-arrows-alt"></i>
          </button>
          <button class="btn btn-default clone-btn lift:locTooltip" title="Duplicate">
            <i class="far fa-clone"></i>
          </button>
          <button class="btn btn-default delete-opts" title="Delete">
            <i class="far fa-trash"></i>
          </button>
        </div>
      </div>

      <div id="shape-editable-menu" class="shape-editable-menu edit-menu" style="display: none">
        <div class="btn-group" role="group" aria-label="...">
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Border width">
              <i class="far fa-minus"></i>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu border-size-opts">
              <li><a href="javascript://"><div style="height: 1px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 2px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 3px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 4px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 6px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 8px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 12px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
              <li><a href="javascript://"><div style="height: 18px; background-color: #000; width: 100%; margin: 5px 0;"></div></a></li>
            </ul>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Border color">
              <i class="far fa-square"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu border-color-opts dropdown-menu-color-opts">
              <%- include('partials/pdf-editor-color-opts'); %>
            </div>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Background color">
              <i class="fal fa-palette"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu background-color-opts dropdown-menu-color-opts">
              <%- include('partials/pdf-editor-color-opts'); %>
            </div>
          </div>
          <button class="btn btn-default clone-btn" title="Duplicate">
            <i class="far fa-clone"></i>
          </button>
          <button class="btn btn-default delete-opts" title="Delete">
            <i class="far fa-trash"></i>
          </button>
        </div>
      </div>

      <div id="ff-editable-menu" class="ff-editable-menu edit-menu" style="display: none">
        <div class="btn-group" role="group" aria-label="...">
          <div class="btn-group border-color-opts-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Border color">
              <i class="far fa-square"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu border-color-opts dropdown-menu-color-opts">
              <%- include('partials/pdf-editor-color-opts'); %>
            </div>
          </div>
          <div class="btn-group text-align-opts-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Text alignment">
              <i class="far fa-align-left"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu text-align-opts dropdown-menu-text-align-opts">
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-default" data-align="left"><i class="far fa-align-left"></i></button>
                <button type="button" class="btn btn-default" data-align="center"><i class="far fa-align-center"></i></button>
                <button type="button" class="btn btn-default" data-align="right"><i class="far fa-align-right"></i></button>
              </div>
            </div>
          </div>
          <div class="btn-group font-size-opts-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Font size">
              <i class="far fa-text-height"></i>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu font-size-opts">
              <li>
                <input type="text" name="fontSize2" value="10" />
              </li>
            </ul>
          </div>
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle lift:locTooltip" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Color">
              <i class="far fa-palette"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu text-color-opts dropdown-menu-color-opts">
              <%- include('partials/pdf-editor-color-opts'); %>
            </div>
          </div>
          <div class="btn-group props-opts-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle tooltip-single-line" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Field properties">
              <i class="far fa-list-alt"></i>
              <span class="caret"></span>
            </button>
            <div class="dropdown-menu props-opts">
              <form>
                <div class="form-group">
                  <label for="fieldName">Field name</label>
                  <input type="text" class="form-control input-xs" name="fieldName" id="fieldName" placeholder="field1">
                  <label style="font-weight: normal; margin-top: 10px; display: none" id="fieldNameNotUniqueWarning">
                    Name is already used. There are <span class="other-fields-with-same-name-count"></span> other fields with the same name.
                    <span class="input-help">
                            <i class="fal fa-question-circle lift:locTooltip" data-toggle="tooltip" data-placement="top" data-html="true"
                               title="You should use an unique field name, unless you want the fields with the same name to have the same value."></i>
                        </span>
                  </label>
                </div>
                <div class="form-group field-radiogroup-group">
                  <label>Radio group</label>
                  <label style="font-weight: normal">
                    There <span class="radiogroup-size">are 1 radios</span> in this group.
                    <span class="input-help">
                            <i class="fal fa-question-circle lift:locTooltip" data-toggle="tooltip" data-placement="top" data-html="true"
                               title="Radio buttons with the same name are grouped together. Only one can be selected."></i>
                        </span>
                  </label>
                </div>
                <div class="form-group field-value-group">
                  <label for="fieldValue">Field value</label>
                  <input type="text" class="form-control input-xs" name="fieldValue" id="fieldValue" placeholder="value1">
                </div>
                <div class="form-group field-options-group">
                  <label for="fieldOptions">Options <span style="font-size: 11px; font-weight: 100">(one per line)</span></label>
                  <textarea class="form-control input-xs" name="fieldOptions" id="fieldOptions" rows="3"></textarea>
                </div>
                <div class="checkbox field-multiselect-group">
                  <label><input type="checkbox" name="fieldMultiselect"> Allow multiple selections</label>
                </div>
                <div class="checkbox field-comb-group">
                  <label><input type="checkbox" name="fieldComb"> <lift:locS>Divide into</lift:locS>
                    <input type="text" name="fieldCombOfCharsLength" class="form-control input-xs" value="8">
                    <lift:locS>boxes</lift:locS>
                    <span class="input-help">
                          <i class="fal fa-question-circle lift:locTooltip" data-toggle="tooltip" data-placement="top" data-html="true"
                             title="Comb of characters. Text field divided into equally spaced boxes for individual characters."></i>
                        </span>
                  </label>
                </div>
                <div class="checkbox field-required-group">
                  <label><input type="checkbox" name="fieldRequired"> <lift:locS>Field is mandatory</lift:locS></label>
                </div>
              </form>
            </div>
          </div>
          <div class="btn-group" role="group">
            <button class="btn btn-default clone-btn" title="Duplicate field">
              <i class="far fa-clone"></i>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button class="btn btn-default delete-opts" title="Delete">
              <i class="far fa-trash"></i>
            </button>
          </div>
        </div>
      </div>

      <section style="display: none">
        <div id="ff-text-template"><input name="noautocomplete" type="text" autocomplete="off" value="Default value2" /></div>
        <div id="ff-textarea-template"><textarea name="noautocomplete"></textarea></div>
        <div id="ff-checkbox-template"><input name="noautocomplete" type="checkbox" /></div>
        <div id="ff-radio-template"><input name="noautocomplete" type="radio"/> </div>
        <div id="ff-dropdown-template"><select name="noautocomplete"><option>Option 1</option><option>Option 2</option><option>Option 3</option></select></div>
        <div id="ff-signature-template"><div class="signature"></div></div>
      </section>
    </div>
  </div>

  <%- include('partials/file-upload'); %>
  <%- include('partials/loading'); %>

  <section class="step3a" style="display: none">
    <section class="page-loading" style="display: none;">
      <div class="progress-radial progress-5">
        <div class="overlay">1%</div>
      </div>
      <div><lift:locS>Loading, please wait...</lift:locS></div>
    </section>

    <div class="centered" style="display: none" id="edit-pages-wrap">
      <form id="imageUploadForm" action="" method="post" enctype="multipart/form-data" style="display: none">
        <input style="display: none" class="image-fileupload" type="file" name="file" data-url="" data-scope="editor-image" accept=".jpg,.jpeg,.gif,.tiff,.tif,.bmp,.png,.webp" data-allows-paste="true">
      </form>
      <div id="global-help-hint" style="display: none"></div>
      <div id="edit-pages" class="forms-creator-mode">
        <div id="thumbs-menu" class="tools-menu thumbs-menu" style="display: none">
          <div class="btn-group">
            <button id="navOpenBtn" type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Navigate through the document.">
              <i class="fal fa-th-large"></i></button>
          </div>
        </div>
        <div id="tools-menu" class="tools-menu edit-menu" style="display: none">
          <div class="btn-group wrap" role="group">
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line" title="Add a text label" data-tool="text">
                <i class="fal fa-i-cursor"></i><i class="fal fa-font" style="margin-left:-4px;"></i> <span class="btn-caption">Label</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default" title="Whiteout" data-tool="whiteout" style=""><i class="fal fa-eraser"></i> <span class="btn-caption">Whiteout</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default" title="Change tab order" data-tool="tab-ordering" style=""><i class="fal fa-sort-alt"></i> <span class="btn-caption">Reorder</span></button>
            </div>
          </div>
          <div class="btn-group wrap" role="group">
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Single text line" data-ff-kind="text">
                <span class="fa-stack fa-2x"><i class="fal fa-rectangle-landscape fa-stack-2x"></i><i class="fal fa-text fa-stack-1x"></i></span> <span class="btn-caption">Text Field</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Multiple text lines" data-ff-kind="textarea">
                <span class="fa-stack fa-2x"><i class="fal fa-rectangle-landscape fa-stack-2x"></i><i class="fal fa-align-left fa-stack-1x"></i></span> <span class="btn-caption">Textarea</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Radio option (single)" data-ff-kind="radio">
                <i class="fal fa-dot-circle"></i> <span class="btn-caption">Radio</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Tick box" data-ff-kind="checkbox">
                <i class="fal fa-chevron-square-down"></i> <span class="btn-caption">Checkbox</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Multiple selection box" data-ff-kind="dropdown">
                <i class="far fa-caret-square-down"></i> <span class="btn-caption">Dropdown</span></button>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default tooltip-single-line lift:locTooltip" title="Signature box for others to sign" data-ff-kind="signature">
                <span class="fa-stack fa-2x"><i class="fal fa-rectangle-landscape fa-stack-2x"></i><i class="fal fa-signature fa-stack-1x"></i></span> <span class="btn-caption">Signature box</span></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="display: none"><canvas id="image-rotation-canvas"></canvas><canvas id="image-resize-canvas"></canvas></div>
  </section>

  <div class="centered step3a bottom-fixed" style="display:none;">
    <form class="form-inline task-form" autocomplete="off">
      <input type="hidden" name="type" value="edit"/>
      <input type="hidden" name="elapsedTime" value="" />
      <input type="hidden" name="recovered" value="false" />

      <div class="centered submit-button-container">
        <button id="save-pdf-btn" type="submit" class="btn btn-default btn-medium"><lift:locS>Apply changes</lift:locS> <i class="fal fa-chevron-right"></i></button>
      </div>
    </form>
  </div>

  <%- include('partials/pdf-editor-modals'); %>
  <%- include('partials/signature-modal'); %>

  <div id="selectionBorder" style="display:none"></div>

  <script>
    window.PdfEditorSettings = {
      defaultText: 'Type your text',
      uploadImages: false,
      fileOverFreeQuotaWarnings: true,
      browserZoomWarnings: false,
      recoveryEnabled: false
    };
  </script>
  <script class="pageScripts" data-src="public/js/pages/pdf-editor-desktop.min.obfuscated.js"></script>
  <script class="pageScripts" data-src="public/js/pages/pdf-editor-page.min.js"></script>
</section>

<%- include('partials/task-common-output-options', { onlyFile: true, outputFilenameAffix: 'edited' }); %>
<%- include('partials/task-screen-after'); %>

$(function(){const e=$("#pdf-files-list");$("#pdf-canvas").hide();var t=0;$(document).on("pagesRendered",function(n,i){i.files.forEach(function(n){t+=1;const i=parseFilename(n.name)[0],a={order:t,originalName:n.name,encodedName:encodeURIComponent(n.name),name:i,counter:n.counter},r=$("#pdf-file-item-wrap-alternate-mix-template").find("li").clone(),d=r.find(".pdf-file-item");d.attr({"data-filename":a.encodedName,"data-filename-raw":a.originalName,"data-file-counter":a.counter}),r.find(".filename .order").text(a.order),r.find(".filename .name").text(a.name),e.append(r),PdfFiles.getDocument(n,function(e){1===e.numPages&&d.attr("data-repeat","true")})}),$("#pdf-files-list-wrap").show(),$(document).trigger("filesListRendered")}),$(document).on("click",".pdf-file-item .close",function(){const e=$(this).parents("li");e.fadeOut(500,function(){e.remove()})}),$(".sort-btn").click(function(){function e(e){return $(e.elm).find(".pdf-file-item").attr("data-filename-raw")}tinysort("ul#pdf-files-list>li",{selector:".pdf-file-item",data:"filename-raw",order:$(this).attr("data-sort-order"),sortFunction:function(t,n){return naturalSort(e(t),e(n))}}),$(document).trigger("fileOrderChanged")}),$(document).on("fileOrderChanged",function(){e.find(".grabbable").each(function(e,t){$(t).find(".order").text(e+1)})}),$(document).on("filesListRendered",function(t){e.find(".pdf-file-item-wrap").hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")}),$("#pdf-files-list").sortable({update:function(t,n){const i=n.item;e.find(".pdf-file-item-wrap").removeClass("active"),i.addClass("active"),$(document).trigger("fileOrderChanged")}})})});